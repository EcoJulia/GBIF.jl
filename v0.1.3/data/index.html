<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting data · GBIF wrapper in Julia</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>GBIF wrapper in Julia</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Manual</span><ul><li class="current"><a class="toctext" href>Getting data</a><ul class="internal"><li><a class="toctext" href="#Getting-taxonomic-information-1">Getting taxonomic information</a></li><li><a class="toctext" href="#Getting-occurrence-data-1">Getting occurrence data</a></li></ul></li><li><a class="toctext" href="../qaqc/">Filtering records</a></li></ul></li><li><a class="toctext" href="../types/">Types</a></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Getting data</a></li></ul><a class="edit-page" href="https://github.com/EcoJulia/GBIF.jl/blob/master/docs/src/data.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Getting data</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Retrieving-data-1" href="#Retrieving-data-1">Retrieving data</a></h1><h2><a class="nav-anchor" id="Getting-taxonomic-information-1" href="#Getting-taxonomic-information-1">Getting taxonomic information</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.taxon" href="#GBIF.taxon"><code>GBIF.taxon</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><strong>Get information about a taxon at any level</strong></p><pre><code class="language-none">taxon(name::String)</code></pre><p>This function will look for a taxon by its (scientific) name in the GBIF reference taxonomy.</p><p>Optional arguments are</p><ul><li><p><code>rank::Union{Symbol,Nothing}=:SPECIES</code> – the rank of the taxon you want. This is part of a controlled vocabulary, and can only be one of <code>:DOMAIN</code>, <code>:CLASS</code>, <code>:CULTIVAR</code>, <code>:FAMILY</code>, <code>:FORM</code>, <code>:GENUS</code>, <code>:INFORMAL</code>, <code>:ORDER</code>, <code>:PHYLUM,</code>, <code>:SECTION</code>, <code>:SUBCLASS</code>, <code>:VARIETY</code>, <code>:TRIBE</code>, <code>:KINGDOM</code>, <code>:SUBFAMILY</code>, <code>:SUBFORM</code>, <code>:SUBGENUS</code>, <code>:SUBKINGDOM</code>, <code>:SUBORDER</code>, <code>:SUBPHYLUM</code>, <code>:SUBSECTION</code>, <code>:SUBSPECIES</code>, <code>:SUBTRIBE</code>, <code>:SUBVARIETY</code>, <code>:SUPERCLASS</code>, <code>:SUPERFAMILY</code>, <code>:SUPERORDER</code>, and <code>:SPECIES</code></p></li><li><p><code>strict::Bool=true</code> – whether the match should be strict, or fuzzy</p></li><li><p><code>verbose::Bool=false</code> – whether the query should print out information about the reply (not usually useful)</p></li></ul><p>Finally, one can also specify other levels of the taxonomy, using  <code>kingdom</code>, <code>phylum</code>, <code>class</code>, <code>order</code>, <code>family</code>, and <code>genus</code>, all of which can either be <code>String</code> or <code>Nothing</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/taxon.jl#L1-L26">source</a></section><h2><a class="nav-anchor" id="Getting-occurrence-data-1" href="#Getting-occurrence-data-1">Getting occurrence data</a></h2><p>The most common task is to retrieve a number of occurrences. The core type of this package is <code>GBIFRecord</code>, which stores a number of data and metadata associated with observations of occurrences.</p><h3><a class="nav-anchor" id="Single-occurrence-1" href="#Single-occurrence-1">Single occurrence</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.occurrence" href="#GBIF.occurrence"><code>GBIF.occurrence</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><strong>Return an interpreted occurrence given its key</strong></p><pre><code class="language-none">occurrence(key::Union{String, Integer})</code></pre><p>The key can be given as a string or as an integer.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/occurrence.jl#L1-L7">source</a></section><p>This can be used to retrieve occurrence <code>1425976049</code>, with</p><pre><code class="language-julia">using GBIF
occurrence(1425976049)</code></pre><h3><a class="nav-anchor" id="Multiple-occurrences-1" href="#Multiple-occurrences-1">Multiple occurrences</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.occurrences-Tuple{}" href="#GBIF.occurrences-Tuple{}"><code>GBIF.occurrences</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><strong>Retrieve latest occurrences</strong></p><pre><code class="language-none">occurrences()</code></pre><p>This function will return the latest occurrences – usually 20, but this is entirely determined by the server default page size. This is mostly useful to get a few results rapidly for illustration purposes.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/occurrence.jl#L14-L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.occurrences-Tuple{GBIFTaxon}" href="#GBIF.occurrences-Tuple{GBIFTaxon}"><code>GBIF.occurrences</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><strong>Retrieve latest occurrences for a taxon</strong></p><pre><code class="language-none">occurrences(t::GBIFTaxon)</code></pre><p>Returns occurrences that correspond to a filter, given in <code>q</code> as a dictionary. When first called, this function will return the latest 20 hits (or whichever default page size GBIF uses). Future occurrences can be queried with <code>next!</code> or <code>complete!</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/occurrence.jl#L90-L99">source</a></section><p>When called with no arguments, this function will return a list of the latest 20 occurrences recorded in GBIF. Note that the <code>GBIFRecords</code> type, returned by <code>occurrences</code>, implements all the necessary methods to iterate over collections. For example, this allows writing the following:</p><pre><code class="language-julia">o = occurrences()
for single_occ in o
  println(o.taxonKey)
end</code></pre><h3><a class="nav-anchor" id="Query-parameters-1" href="#Query-parameters-1">Query parameters</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.occurrences-Tuple{Dict}" href="#GBIF.occurrences-Tuple{Dict}"><code>GBIF.occurrences</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><strong>Retrieve latest occurrences based on a query</strong></p><pre><code class="language-none">occurrences(q::Dict)</code></pre><p>Returns occurrences that correspond to a filter, given in <code>q</code> as a dictionary. When first called, this function will return the latest 20 hits (or whichever default page size GBIF uses). Future occurrences can be queried with <code>next!</code> or <code>complete!</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/occurrence.jl#L42-L51">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.occurrences-Tuple{GBIFTaxon,Dict}" href="#GBIF.occurrences-Tuple{GBIFTaxon,Dict}"><code>GBIF.occurrences</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p><strong>Retrieve latest occurrences for a taxon based on a query</strong></p><pre><code class="language-none">occurrences(t::GBIFTaxon, q::Dict)</code></pre><p>Returns occurrences that correspond to a filter, given in <code>q</code> as a dictionary. When first called, this function will return the latest 20 hits (or whichever default page size GBIF uses). Future occurrences can be queried with <code>next!</code> or <code>complete!</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/occurrence.jl#L70-L79">source</a></section><h3><a class="nav-anchor" id="Batch-download-of-occurrences-1" href="#Batch-download-of-occurrences-1">Batch-download of occurrences</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.next!" href="#GBIF.next!"><code>GBIF.next!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><strong>Get the next page of results</strong></p><p>This function will retrieve the next page of results. By default, it will walk through queries 20 at a time. This can be modified by changing the <code>.query[&quot;limit&quot;]</code> value, to any value <em>below</em> 200.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/paging.jl#L1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="GBIF.complete!" href="#GBIF.complete!"><code>GBIF.complete!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><strong>Get all pages of results</strong></p><p>This function will retrieve <em>all</em> matches (up to the GBIF limit of 200000 records for a streaming query). It is recommended to set the limit to more than the default of 20 before calling this function. If not, this will trigger a lot of requests both from your end and on the GBIF infrastructure.</p><p>Internally, this function is simply calling <code>next!</code> until all records are exhausted.</p></div></div><a class="source-link" target="_blank" href="https://github.com/EcoJulia/GBIF.jl/blob/f68658f622c4da982ec48a1c9d8b4708ed7f7be4/src/paging.jl#L28-L38">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../qaqc/"><span class="direction">Next</span><span class="title">Filtering records</span></a></footer></article></body></html>
